<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="description" content="Page Titile">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, user-scalable=no, minimal-ui">
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="msapplication-tap-highlight" content="no">

        <title>MFZ USSD</title>
        <!-- base css -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
        <script src="https://use.fontawesome.com/d676b0cfd1.js"></script>
        <style>
            .displayOutput{
              scrollbar-color: black white;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <div class="col col-md-4 col-xs-4 col-lg-4 col-sm-4" style="background-color: #dedede !important; padding: 5px !important;">
                    <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #dedede !important; padding-bottom: 10px !Important">
                        <button class="btn btn-infobtn btn-info col col-md-12 col-sm-12 col-xs-12 xol-lg-12" onclick="startAfresh()" id="startAfreshButton">Start Session</button>
                    </div>

                    <div class=" col col-md-2 col-xs-2 col-lg-2 col-sm-2 svnum" style="float: left !important; text-align: right !important; padding-top: 5px !important; padding-right: 2px !Important">
                        +260
                    </div>
                    <div class=" col col-md-5 col-xs-5 col-lg-5 col-sm-5 svnum" style="float: left !important;">
                        <input type="number" name="phonenumber" id="phonenumber" class="form-control">
                    </div>
                    <div class="col col-md-5 col-xs-5 col-lg-5 col-sm-5 svnum" style="float: right !important;">
                        <button class="btn btn-infobtn btn-info col col-md-12 col-sm-12 col-xs-12 xol-lg-12" onclick="saveNumber()">Save Number</button>
                    </div>
                </div>
            </div>
            <div class="row" style="padding-top: 10px !important; display: none !Important" id="emulatorDiv">
                <div class="col col-md-4 col-xs-4 col-lg-4 col-sm-4" style="background-color: #000 !important; border-radius: 10% !important; padding: 20px !important;">
                    <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #000 !important; height: 30px !important">

                    </div>
                    <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #000 !important; height: 330px !important; padding: 20px !important;">
                        <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #fff !important; height: 300px !important;" id="display">
                            <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12 displayOutput" style="background-color: #fff !important; height: 260px !important; padding:5px !important; overflow-y: scroll" id="displayOutput">
                                <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12 displayOutput" style="background-color: #fff !important; font-size: 30px; text-align: center; margin-top: 100px !important">
                                    Dial *778#
                                </div>
                            </div>
                            <div class="col col-md-10 col-xs-10 col-lg-10 col-sm-10" style="background-color: #ffcc00 !important; height: 40px !important; font-size: 30px; text-align: right !important; overflow: hidden !important; float: left !important" id="displayInput">

                            </div>
                            <div class="col col-md-2 col-xs-2 col-lg-2 col-sm-2" style="background-color: #ffcc00 !important; height: 40px !important; font-size: 30px; text-align: right !important; float: left !important" id="">
                                <i class="fa fa-arrow-left" style="color: #fff !important; font-size: 25px !important;padding-right: 10px; cursor: pointer !important" onclick="backspace()"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #000 !important; height: 330px !important; padding: 20px !important;">
                        <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="background-color: #fff !important; height: 300px !important;">
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(1)">
                                1
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(2)">
                                2
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(3)">
                                3
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(4)">
                                4
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(5)">
                                5
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(6)">
                                6
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(7)">
                                7
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(8)">
                                8
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(9)">
                                9
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('*')">
                                *
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen(0)">
                                0
                            </button>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4 numbers" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('#')">
                                #
                            </button>



                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('A')">
                                A
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('b')">
                                B
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('C')">
                                C
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('D')">
                                D
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('E')">
                                E
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('F')">
                                F
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('G')">
                                G
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('H')">
                                H
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('I')">
                                I
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('J')">
                                J
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('K')">
                                K
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('L')">
                                L
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('M')">
                                M
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('N')">
                                N
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('O')">
                                O
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('P')">
                                P
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('Q')">
                                Q
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('R')">
                                R
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('S')">
                                S
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('T')">
                                T
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('U')">
                                U
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('V')">
                                V
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('W')">
                                W
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('X')">
                                X
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('Y')">
                                Y
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('Z')">
                                Z
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('/')">
                                /
                            </button>

                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('.')">
                                .
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('#')">
                                #
                            </button>
                             <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 text" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('@')">
                                @
                            </button>





                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('a')">
                                a
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('b')">
                                b
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('c')">
                                c
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('d')">
                                d
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('e')">
                                e
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('f')">
                                f
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('g')">
                                g
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('h')">
                                h
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('i')">
                                i
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('j')">
                                j
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('k')">
                                k
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('l')">
                                l
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('m')">
                                m
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('n')">
                                n
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('o')">
                                o
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('p')">
                                p
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('q')">
                                q
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('r')">
                                r
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('s')">
                                s
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('t')">
                                t
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('u')">
                                u
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('v')">
                                v
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('w')">
                                w
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('x')">
                                x
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('y')">
                                y
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('z')">
                                z
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('@')">
                                @
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('+')">
                                +
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('.')">
                                .
                            </button>
                            <button class="btn btn-info col col-md-2 col-xs-2 col-lg-2 col-sm-2 textLower" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer" onclick="addToScreen('#')">
                                #
                            </button>
                            <div class="col col-md-12 col-xs-12 col-lg-12 col-sm-12" style="padding: 0px !Important; background-color: #fff !important; border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer; float: left !important">
                                <button class="btn btn-info col col-md-12 col-sm-8 col-xs-8 xol-lg-8" id="mtn_zambia" onclick="addToScreen(' ')">SPACE</button>
                            </div>


                            <div class="btn btn-success col col-md-8 col-xs-8 col-lg-8 col-sm-8" style="border: 2px solid #000; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer; float: left !important">
                                <button class="btn btn-success col col-md-8 col-sm-8 col-xs-8 xol-lg-8" id="mtn_zambia" onclick="callUssdService()">Send</button>
                            </div>
                            <button class="btn btn-info col col-md-4 col-xs-4 col-lg-4 col-sm-4" style="border: 2px solid #000; border-bottom: 0px solid #000 !important; float: left !important; font-size: 25px !important; text-align: center; padding-top: 10px; padding-bottom: 10px; cursor: pointer; float: left !important" id="switchMode" onclick="switchMode()">
                                <small>ABC</small>
                            </button>
                            <input type="hidden" id="val" name="val">
                        </div>
                    </div>
                <div>
            </div>
        <div>

    <body>

    <script>
    myStorage = window.localStorage;
    var textInputSummary = '';
    function switchMode()
    {
        console.log(">>>" + myStorage.getItem('switchMode'));
        if(myStorage.getItem('switchMode')=='123')
        {
            $('#switchMode').html('abc');
            myStorage.setItem('switchMode', 'ABC');
            $('.text').show();
            $('.numbers').hide();
            $('.textLower').hide();
        }
        else if(myStorage.getItem('switchMode')==='ABC')
        {
            $('#switchMode').html('123');
            myStorage.setItem('switchMode', 'abc');
            $('.numbers').hide();
            $('.text').hide();
            $('.textLower').show();
        }
        else if(myStorage.getItem('switchMode')==='abc')
        {
            $('#switchMode').html('ABC');
            myStorage.setItem('switchMode', '123');
            $('.numbers').show();
            $('.text').hide();
            $('.textLower').hide();
        }
        else
        {
            $('#switchMode').html('abc');
            myStorage.setItem('switchMode', 'ABC');
            $('.text').show();
            $('.numbers').hide();
            $('.textLower').hide();
        }
    }


    function addToScreen(x)
    {
        var currentVal = $('#displayInput').html();
        textInputSummary = textInputSummary + '' + x;
        $('#val').val(textInputSummary);
        $('#displayInput').html(currentVal + x);
        $('#mtn_zambia').addClass("btn-success");
        $('#mtn_zambia').removeClass("btn-danger");
    }


    function backspace()
    {
        var currentVal = $('#val').val();
        if(currentVal.length >0)
        {
            currentVal = currentVal.substring(0, currentVal.length-1);
            $('#val').val(currentVal);
            $('#displayInput').html(currentVal);

            currentVal = $('#val').val();
            if(currentVal.length ==0)
            {
                $('#mtn_zambia').removeClass("btn-success");
                $('#mtn_zambia').addClass("btn-danger");
            }
        }
        else
        {
            $('#mtn_zambia').removeClass("btn-success");
            $('#mtn_zambia').addClass("btn-danger");
        }
    }


    function saveNumber()
    {
        if (typeof(Storage) !== "undefined") {
            myStorage.setItem('mobile_number', '260' + $('#phonenumber').val());
            myStorage.setItem('session_id', makeid(16));
            $('#phonenumber').attr('readOnly', true);
            $('#emulatorDiv').show();
        } else {
          alert('Invalid storage')
        }
    }


    function callUssdService()
    {
        //myStorage.removeItem('text');
		$('#displayInput').html("");
        if(myStorage.getItem('mobile_number') ==undefined)
        {
            alert('Error');
        }
        else
        {
            textInputSummary = '';
            var textValue = myStorage.getItem('text');
            var currentValue = $('#val').val();
            if(textValue!=undefined)
            {
                textValue = textValue + '*' + currentValue;
            }
            else
            {
                textValue = currentValue;
            }



            console.log(textValue);
            console.log(currentValue);
            console.log(service_code);
            var service_code = textValue.substring(0, 5);
            console.log('service_code...' + service_code);


            myStorage.setItem('text', textValue);
            if(service_code=='*778#')
            {
                $.ajax({
                    url: "/Loan-ussd",
                    type: "get", //send it through get method
                    data: {
                        mobile_number: myStorage.getItem('mobile_number'),
                        session_id: myStorage.getItem('session_id'),
                        text: textValue,
                        serviceCode: textValue.substring(0, 5)
                    },
                    success: function(response) {
                        console.log(response);
                        var data = JSON.parse(response);
                        var message = data.Message;
                        var first3letters = message.substring(0, 3);
                        message = message.substring(3);
                        console.log(message);
                        message = (message + '').replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g, '$1'+ '<br>' +'$2');
                        console.log(message);
                        $('#displayOutput').html(message);

                        if(first3letters.startsWith("CON"))
                        {
                            $('#displayOutput').html(message);
                        }
                        else
                        {
                            if(first3letters.startsWith("BA"))
                            {
                                var keyIndex = first3letters.substring(2);
                                console.log(keyIndex);
                                keyIndex = parseInt(keyIndex);
                                var text_ = myStorage.getItem('text');
                                console.log(text_);
                                text_ = text_.split('*');
                                console.log(text_.length);
                                console.log(text_);
                                var newText = [];
                                for(var k1=1; k1<(text_.length - (keyIndex-1)); k1++)
                                {
                                    console.log(text_[k1]);
                                    newText.push(text_[k1]);
                                }
                                console.log(newText);
                                newText = newText.join('*');
                                newText = '*' + newText + '*';
                                myStorage.setItem('text', newText);
                            }
                        }
                    },
                    error: function(xhr) {
                        //Do Something to handle error
                        console.log(333);
                    }
                });
            }
        }
    }


    function makeid(length) {
        var result           = '';
        var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
        var charactersLength = characters.length;
        for ( var i = 0; i < length; i++ ) {
            result += characters.charAt(Math.floor(Math.random() * charactersLength));
        }
        return result.toLowerCase();
    }


    function startAfresh()
    {
        myStorage.removeItem('switchMode');
        myStorage.removeItem('mobile_number');
        myStorage.removeItem('session_id');
        myStorage.removeItem('text');
        var checkText = $('#startAfreshButton').html();
        if(checkText=='End Test')
        {
            $('#startAfreshButton').html('Start Session');
            $('#startAfreshButton').removeClass("btn-danger");
            $('#startAfreshButton').addClass("btn-primary");
            $('#phonenumber').val("");
            $('#emulatorDiv').hide();
            $('#phonenumber').attr('readOnly', true);
            $('.svnum').hide();
            window.location = '/Loan-emulator-ussd'
        }
        else if(checkText=='Start Session')
        {
            $('#startAfreshButton').html('End Test');
            $('#startAfreshButton').removeClass("btn-primary");
            $('#startAfreshButton').addClass("btn-danger");
            $('#phonenumber').attr('readOnly', false);
            $('.svnum').show();
        }
    }

    $( document ).ready(function() {

        myStorage.removeItem('text');
        $('#emulatorDiv').hide();
        console.log(myStorage.getItem('switchMode'));
        if(myStorage.getItem('mobile_number')!=null && myStorage.getItem('mobile_number').length>0)
            $('#phonenumber').val(myStorage.getItem('mobile_number').substring(3));

        $('.textLower').hide();
        $('.numbers').hide();
        $('.text').show();
        var mobile_number = myStorage.getItem('mobile_number');

        $('.svnum').hide();
        if(mobile_number!=undefined && mobile_number!=null)
        {
            $('#phonenumber').attr('readOnly', true);
            $('#startAfreshButton').html('End Test');
            $('#startAfreshButton').removeClass("btn-primary");
            $('#startAfreshButton').addClass("btn-danger");
            $('#emulatorDiv').show();
            $('.svnum').show();
        }


        if(myStorage.getItem('switchMode')=='123')
        {
            $('#switchMode').html('ABC');
            $('.numbers').show();
            $('.text').hide();
            $('.textLower').hide();
        }
        else if(myStorage.getItem('switchMode')==='ABC')
        {
            $('#switchMode').html('abc');
            $('.numbers').hide();
            $('.text').show();
            $('.textLower').hide();
        }
        else if(myStorage.getItem('switchMode')==='abc')
        {
            $('#switchMode').html('123');
            $('.numbers').hide();
            $('.text').hide();
            $('.textLower').show();
        }
        else
        {
            $('#switchMode').html('ABC');
            $('.numbers').show();
            $('.text').hide();
            $('.textLower').hide();
        }
    });
    </script>
</html>
